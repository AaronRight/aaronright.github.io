{"version":3,"sources":["webpack:///src/app/angle.ts","webpack:///src/environments/environment.ts","webpack:///src/app/noise.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["Angle","value","target","direction","environment","production","Noise","audioContext","window","AudioContext","webkitAudioContext","track","bufferSize","sampleRate","noiseBuffer","createBuffer","output","getChannelData","i","Math","random","audioSource","buffer","clearTimeout","fadeOutTimer","stop","err","fadeOut","canFade","gainNode","gain","linearRampToValueAtTime","currentTime","setTimeout","stopNoise","createBufferSource","createGain","connect","destination","volume","fadeIn","setValueAtTime","buildTrack","createNoise","setGain","loop","start","element","source","silenceDataURL","src","play","template","AppComponent","unlockIOSAudio","rotation","doubleClick","square","triangle","title","matchMedia","matches","angle_radians","x","y","x_pivot","y_pivot","s","sin","PI","c","cos","x_new","y_new","template1","split","template2","n","diff","Array","length","result","j","Number","theme","isDarkMode","color","context","canvas","nativeElement","getContext","clearRect","width","height","fillStyle","fill","Path2D","angle","variants","calculateSvg","noise","rotateIcon","bind","unlock","audio","playNoise","translate","rotate","join","requestAnimationFrame","perform","selector","styles","AppModule","register","enabled","declarations","imports","providers","bootstrap","bootstrapModule","console","error","webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id"],"mappings":"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","file":"main-es5.js","sourcesContent":["export class Angle {\r\n  value: number = 0;\r\n  target: number = 0;\r\n  direction: boolean = true;\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","export class Noise {\r\n  // @ts-ignore\r\n  audioContext = new ( window.AudioContext ? window.AudioContext : window.webkitAudioContext)();\r\n  fadeOutTimer: any;\r\n\r\n  // https://noisehack.com/generate-noise-web-audio-api/\r\n  createNoise(track: any) {\r\n\r\n    const bufferSize = 2 * this.audioContext.sampleRate;\r\n    const noiseBuffer = this.audioContext.createBuffer(1, bufferSize, this.audioContext.sampleRate);\r\n    const output = noiseBuffer.getChannelData(0);\r\n\r\n    for (let i = 0; i < bufferSize; i++) {\r\n      output[i] = Math.random() * 2 - 1;\r\n    }\r\n\r\n    track.audioSource.buffer = noiseBuffer;\r\n  }\r\n\r\n  stopNoise(track: any) {\r\n    if (track.audioSource) {\r\n      clearTimeout(this.fadeOutTimer);\r\n      try {\r\n        track.audioSource.stop();\r\n      } catch(err){}\r\n    }\r\n  }\r\n\r\n  fadeNoise(track: any) {\r\n\r\n    if (track.fadeOut) {\r\n      track.fadeOut = (track.fadeOut >= 0) ? track.fadeOut : 0.5;\r\n    } else {\r\n      track.fadeOut = 0.5;\r\n    }\r\n\r\n    if (track.canFade) {\r\n      track.gainNode.gain.linearRampToValueAtTime(0, this.audioContext.currentTime + track.fadeOut);\r\n      track.canFade = false;\r\n\r\n      this.fadeOutTimer = setTimeout(() => {\r\n        this.stopNoise(track);\r\n      }, track.fadeOut * 1000);\r\n\r\n    } else {\r\n      this.stopNoise(track);\r\n    }\r\n  }\r\n\r\n  buildTrack(track: any) {\r\n    track.audioSource = this.audioContext.createBufferSource();\r\n    track.gainNode = this.audioContext.createGain();\r\n    track.audioSource.connect(track.gainNode);\r\n    track.gainNode.connect(this.audioContext.destination);\r\n    track.canFade = true; // used to prevent fadeOut firing twice\r\n  }\r\n\r\n  setGain(track: any) {\r\n\r\n    track.volume = (track.volume >= 0) ? track.volume : 0.5;\r\n\r\n    if (track.fadeIn) {\r\n      track.fadeIn = (track.fadeIn >= 0) ? track.fadeIn : 0.5;\r\n    } else {\r\n      track.fadeIn = 0.5;\r\n    }\r\n\r\n    track.gainNode.gain.setValueAtTime(0, this.audioContext.currentTime);\r\n    track.gainNode.gain.linearRampToValueAtTime(track.volume / 4, this.audioContext.currentTime + track.fadeIn / 2);\r\n    track.gainNode.gain.linearRampToValueAtTime(track.volume, this.audioContext.currentTime + track.fadeIn);\r\n  }\r\n\r\n  playNoise(track: any) {\r\n\r\n    this.stopNoise(track);\r\n    this.buildTrack(track);\r\n    this.createNoise(track);\r\n    this.setGain(track);\r\n    track.audioSource.loop = true;\r\n    track.audioSource.start();\r\n  }\r\n\r\n  unlock(element: any) {\r\n    // https://stackoverflow.com/questions/21122418/ios-webaudio-only-works-on-headphones\r\n\r\n    /* \r\n       The mute toggle switch does mute WebAudio, but it does not mute HTML5 tags. \r\n       In order to play WebAudio you must also play at least one WebAudio sound source node and one HTML5 tag during a user action. \r\n       It is fine if these sounds are short bits of silence\r\n    */\r\n    var buffer = this.audioContext.createBuffer(1, 1, 22050); // 1/10th of a second of silence\r\n    var source = this.audioContext.createBufferSource();\r\n    source.buffer = buffer;\r\n    source.connect(this.audioContext.destination);\r\n    source.start();\r\n\r\n    var silenceDataURL = \"data:audio/mp3;base64,//MkxAAHiAICWABElBeKPL/RANb2w+yiT1g/gTok//lP/W/l3h8QO/OCdCqCW2Cw//MkxAQHkAIWUAhEmAQXWUO\"+\r\n    \"FW2dxPu//9mr60ElY5sseQ+xxesmHKtZr7bsqqX2L//MkxAgFwAYiQAhEAC2hq22d3///9FTV6tA36JdgBJoOGgc+7qvqej5Zu7/7uI9l//MkxBQHAAYi8AhEAO193vt9K\"+\r\n    \"GOq+6qcT7hhfN5FTInmwk8RkqKImTM55pRQHQSq//MkxBsGkgoIAABHhTACIJLf99nVI///yuW1uBqWfEu7CgNPWGpUadBmZ////4sL//MkxCMHMAH9iABEmAsKioqKigs\"+\r\n    \"LCwtVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVV//MkxCkECAUYCAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV\";\r\n\r\n    element.loop = false;\r\n    element.src = silenceDataURL;\r\n    element.play();\r\n}\r\n\r\n  static template = {\r\n      volume: 0.05, // 0 - 1\r\n      fadeIn: 2.5, // time in seconds\r\n      fadeOut: 1.3, // time in seconds\r\n    }\r\n}","import { AfterViewInit, Component, ElementRef, ViewChild } from '@angular/core';\nimport { Angle } from './angle';\nimport { Noise } from './noise';\n\n/*\n  var canvas1 = document.getElementById(\"canvas\");\n  var template = document.getElementById(\"template\").getAttribute(\"d\").split(/[\\s,]+/);\n\n  let M = x => y => ctx.moveTo(x, y);\n  let L = x => y => ctx.lineTo(x, y);\n  let C = x1 => y1 => cx => cy => x2 => y2 => ctx.bezierCurveTo(x1, y1, cx, cy, x2, y2);\n\n  var ctx = canvas1.getContext(\"2d\");\n  ctx.clearRect(0, 0, canvas1.width, canvas1.height);\n\n  ctx.beginPath();\n\n  for (let i = 0, f = undefined; i < template.length; i++) {\n    if (f === undefined) switch (template[i]) {\n      case \"M\": { f = M; break; }\n      case \"L\": { f = L; break; }\n      case \"C\": { f = C; break; }\n      default: break;\n    }\n    else { f = f(template[i]) }\n  }\n  ctx.fill();\n*/\n\n@Component({\n  selector: 'app-root',\n  template: `<canvas #canvas width=\"1000\" height=\"1000\" (click)=\"perform()\"></canvas>\n  <audio #audio></audio>`,\n  styles: [\n    `:host{ flex:1 }`,\n  ]\n})\nexport class AppComponent implements AfterViewInit {\n  noise: Noise;\n  variants: Array<any[]>;\n  angle: Angle;\n  play: boolean = false;\n  unlockIOSAudio = true;\n  rotation = 15;\n  @ViewChild(\"canvas\") canvas: ElementRef;\n  @ViewChild(\"audio\") audio: ElementRef;\n  context: CanvasRenderingContext2D;\n\n  doubleClick: boolean = false;\n\n  square = \"M 410.03327687898815,834.2973455909166  165.70263319587986,589.9667019078083\"+\n  \" C 115.86107328202843,540.1251419939568  115.86108035309621,459.87485093497526  165.7026331958799,410.03329809219156 \"+\n  \" L 410.03329809219167,165.70263319587986 \"+\n  \" C 459.87485093497537,115.86108035309621  540.125141993957,115.86107328202843  589.9667019078083,165.70263319587986 \"+\n  \" L 834.2973455909166,410.0332768789882 \"+\n  \" C 884.1388984337004,459.8748297217719  884.1389196469038,540.1251490650247  834.2973668041202,589.9667019078083 \"+\n  \" L 589.9667019078083,834.2973668041201 \"+\n  \" C 540.1251490650246,884.1389196469038  459.8748297217719,884.1388984337004  410.03327687898815,834.2973455909166 Z\"\n\n  triangle = \"M 268.6119206416787,784.3000029821019  268.5786371254883,589.9667019078083 \"+\n  \" C 268.5665738838012,519.4800917859759  268.5665668127334,480.5199011429562  268.5786371254882,410.03329809219167 \"+\n  \" L 268.61194185488216,215.70000408896578 \"+\n  \" C 268.62402630977266,145.21340103820125  398.70378575664745,115.86107328202843  448.5453456704989,165.70263319587986 \"+\n  \" L 692.8759893536072,410.0332768789882 \"+\n  \" C 742.7175421963909,459.8748297217719  742.7175634095943,540.1251490650247  692.8760105668107,589.9667019078083 \"+\n  \" L 448.5453456704988,834.2973668041202 \"+\n  \" C 398.7037928277151,884.1389196469038  268.62398388336567,854.7865989617987  268.6119206416787,784.3000029821019 Z\"\n\n  isDarkMode() {\n    return (\n      window.matchMedia &&\n      window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n    );\n  }\n\n  rotate(angle_radians: number, x: number, y: number, x_pivot: number, y_pivot: number) {\n    let s = Math.sin(angle_radians * Math.PI / 180);\n    let c = Math.cos(angle_radians * Math.PI / 180);\n\n    x -= x_pivot;\n    y -= y_pivot;\n\n    let x_new = x * c - y * s;\n    let y_new = x * s + y * c;\n\n    return { x: x_new + x_pivot, y: y_new + x_pivot };\n  }\n\n  calculateSvg() {\n    let template1 = this.triangle.split(/[\\s,]+/);\n    let template2 = this.square.split(/[\\s,]+/);\n\n    let n = 135\n    let diff = new Array(template1.length + 1)\n    let result = new Array(n + 1)\n\n    for (let j = 0; j < template1.length; j++) {\n      if (template1[j] !== template2[j]) diff[j] = (Number(template2[j]) - Number(template1[j])) / n\n    }\n\n    for (let i = 0; i < result.length; i++) {\n      result[i] = new Array(diff.length)\n      for (let j = 0; j < diff.length; j++) {\n        result[i][j] = diff[j] ? (Number(template1[j]) + diff[j] * i) : template1[j]\n      }\n    }\n    return result;\n  }\n\n  ngAfterViewInit(): void {\n    const theme = this.isDarkMode() ? { color: \"#777 \" } : { color: \"#000\" };\n    this.context = this.canvas.nativeElement.getContext(\"2d\");\n    this.context.clearRect(0, 0, this.canvas.nativeElement.width, this.canvas.nativeElement.height);\n    this.context.fillStyle = theme.color;\n    this.context.fill(new Path2D(this.triangle))\n\n    this.angle = new Angle();\n    this.variants = this.calculateSvg()\n    this.noise = new Noise();\n\n    this.rotateIcon = this.rotateIcon.bind(this)\n  }\n\n  perform() {\n    if (!this.doubleClick) {\n      // prevent doubleclicks\n      setTimeout(() => { this.play = !this.play; this.doubleClick = false; }, 400);\n\n      if(this.unlockIOSAudio){\n        this.noise.unlock(this.audio.nativeElement)\n        this.unlockIOSAudio = false;\n      }\n      \n      // sound\n      this.doubleClick = true;\n      if (this.play) {\n        this.noise.stopNoise(Noise.template);\n      } else {\n        this.noise.playNoise(Noise.template);\n      }\n\n      // animation\n      if (this.angle.target == this.angle.value) {\n        this.angle.direction = !this.angle.direction;\n        this.angle.target = 135\n        this.angle.value = 0;\n        this.rotateIcon()\n      } else {\n        this.angle.direction = !this.angle.direction;\n        this.angle.target = 135 + (this.angle.value - 135)\n        this.angle.value = 0;\n      }\n    }\n  }\n\n  rotateIcon() {\n    this.angle.value += this.rotation;\n\n    this.context.clearRect(0, 0, this.canvas.nativeElement.width, this.canvas.nativeElement.height);\n\n    this.context.translate(this.canvas.nativeElement.width / 2, this.canvas.nativeElement.height / 2);\n    this.context.rotate((this.angle.direction ? 1 : -1) * (this.rotation * Math.PI) / 180);\n    this.context.translate(-this.canvas.nativeElement.width / 2, -this.canvas.nativeElement.height / 2);\n\n    this.context.fill(new Path2D(this.variants[this.angle.direction ? 135 - this.angle.value : this.angle.value].join(\" \")))\n\n    if (this.angle.target > this.angle.value) {\n      requestAnimationFrame(this.rotateIcon)\n    }\n  }\n\n  title = 'White Noise';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}